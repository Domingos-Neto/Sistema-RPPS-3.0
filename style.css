/* ============================================= */
/* NOVA PALETA DE CORES - ALINHADA À LOGO PREVTECH */
/* ============================================= */
:root {
  /* Cores da Marca PREVTECH */
  --prevtech-azul-escuro: #0a2559;   /* Extraído da logo */
  --prevtech-laranja: #ff6f00;       /* Extraído da logo (tom mais vibrante) */
  --prevtech-laranja-hover: #e66000;

  /* Cores Neutras e de UI (Tema Claro) */
  --cor-fundo: #f8fafc;              /* Fundo principal (branco gelo) */
  --cor-superficie: #ffffff;         /* Cor dos cards e inputs */
  --cor-borda: #e2e8f0;              /* Cor das bordas (bem sutil) */
  --cor-texto: #0f172a;               /* Cor do texto principal (azul bem escuro) */
  --cor-texto-secundario: #64748b;    /* Cor de textos secundários */

  /* Cores de Feedback */
  --cor-sucesso: #16a34a;
  --cor-erro: #dc2626;
  
  /* Cores da Sidebar */
  --sidebar-fundo: linear-gradient(180deg, var(--prevtech-azul-escuro) 0%, #081e48 100%);
  --sidebar-texto: #e0e7ff;
  --sidebar-fundo-ativo: rgba(255, 255, 255, 0.05);
  --sidebar-texto-ativo: var(--prevtech-laranja);
  --whatsapp-cor: #25D366;
}

body.dark-mode {
  /* Cores da Marca PREVTECH (podem ser ajustadas para melhor contraste) */
  --prevtech-azul-escuro: #1e3a8a;
  --prevtech-laranja: #f97316;
  --prevtech-laranja-hover: #fb923c;

  /* Cores Neutras e de UI (Tema Escuro) */
  --cor-fundo: #0f172a;               /* Fundo azul noite */
  --cor-superficie: #1e293b;         /* Superfície azul ardósia */
  --cor-borda: #334155;               /* Borda mais visível */
  --cor-texto: #f1f5f9;               /* Texto branco gelo */
  --cor-texto-secundario: #94a3b8;    /* Texto secundário mais claro */
  
  /* Cores da Sidebar (Tema Escuro) */
  --sidebar-fundo: #1e293b;
  --sidebar-texto: #cbd5e1;
  --sidebar-fundo-ativo: rgba(249, 115, 22, 0.1);
  --sidebar-texto-ativo: var(--prevtech-laranja);
}


/* ============================================= */
/* ESTILOS GLOBAIS E RESET                     */
/* ============================================= */
*{
  box-sizing: border-box;
  font-family: 'Inter', 'Segoe UI', sans-serif; /* Nova fonte */
  transition: all .2s ease-in-out;
}

body {
  margin:0;
  background: var(--cor-fundo);
  color: var(--cor-texto);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  text-decoration:none;
  color:inherit
}

h2,h3,h4 {
  border-bottom: 2px solid var(--prevtech-laranja);
  padding-bottom: 8px;
  margin-top: 30px;
  color: var(--cor-texto);
}


/* ============================================= */
/* TELA DE LOGIN                                 */
/* ============================================= */
#telaLogin {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  background: linear-gradient(245deg, #eef2f8, #f8fafc);
}
body.dark-mode #telaLogin {
    background: linear-gradient(245deg, #0f172a, #1a2742);
}

.login-container {
  display: flex;
  width: 100%;
  max-width: 900px;
  min-height: 550px;
  background: var(--cor-superficie);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.login-branding {
  flex: 1;
  background: var(--sidebar-fundo);
  color: white;
  display: flex;
  flex-direction:column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
}

.login-branding h2 {
  font-size: 3rem;
  font-weight: bold;
  margin: 0 0 15px 0;
  border: 2px solid var(--prevtech-laranja);
  display: inline-block;
  padding: 10px 20px;
  border-radius: 8px;
  color: white;
}

.login-form {
  flex: 1;
  padding: 40px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.login-logo {
  width: 100px;
  height: 100px;
  margin: 0 auto 20px auto;
  display: block;
}

.login-form h2 {
  font-size: 2rem;
  color: var(--cor-texto);
  margin: 0 0 10px 0;
  border: none;
}

.login-form p {
  margin-bottom: 30px;
  color: var(--cor-texto-secundario);
}

.google-login-btn {
  background-color: var(--prevtech-laranja) !important;
}

@media (max-width: 800px) {
  .login-container {flex-direction: column;}
  .login-branding {display: none;}
}

#mensagem {
  min-height:20px;
  font-size:.9em
}

.status-message {
  font-size: 0.8em;
  padding-left: 5px;
  height: 14px;
  display: block;
}


/* ============================================= */
/* ESTRUTURA PRINCIPAL (APP)                     */
/* ============================================= */
.app-container {
  display: flex;
  min-height: 100vh;
}

.main-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow-y: hidden;
}

.page-content {
  padding: 25px;
  flex-grow: 1;
  overflow-y: auto;
}

.content-wrapper {
  background: var(--cor-superficie);
  border-radius: 10px;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);
  padding: 25px;
  max-width: 1200px;
  margin: 0 auto;
  border: 1px solid var(--cor-borda);
}

footer{
  text-align:center;
  margin-top:20px;
  padding:15px;
  font-size:0.9em;
  color: var(--cor-texto-secundario);
}


/* ============================================= */
/* SIDEBAR (MENU LATERAL)                        */
/* ============================================= */
.sidebar {
  width: 260px;
  background: var(--sidebar-fundo);
  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.05);
  display: flex;
  flex-direction: column;
  transition: width 0.3s ease;
  z-index: 100;
  flex-shrink: 0;
}

.sidebar-header {
  padding: 20px;
  text-align: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-header h2 {
  margin: 0;
  font-size: 1.5rem;
  color: #fff;
  border: none;
  font-weight: 700;
  letter-spacing: 1px;
}

.sidebar-profile {
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-profile-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: var(--prevtech-laranja);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: bold;
}

.sidebar-profile .profile-info span {
  font-weight: 600;
  display: block;
  color: #fff;
}

.sidebar-profile .profile-info small {
  font-size: 0.85em;
  color: var(--sidebar-texto);
  opacity: 0.8;
}

.sidebar-nav {
  flex-grow: 1;
  list-style: none;
  padding: 0;
  margin: 10px 0;
  overflow-y: auto;
}

.sidebar-nav a {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 14px 20px;
  color: var(--sidebar-texto);
  text-decoration: none;
  font-size: 0.95em;
  font-weight: 500;
  transition: background-color 0.2s ease, color 0.2s ease;
  border-left: 4px solid transparent;
}

.sidebar-nav i {
  font-size: 1.3rem;
  width: 20px;
  text-align: center;
}

.sidebar-nav a:hover {
  background-color: var(--sidebar-fundo-ativo);
  color: #fff;
}

.sidebar-nav a.active {
  background-color: var(--sidebar-fundo-ativo);
  color: var(--sidebar-texto-ativo);
  font-weight: 700;
  border-left-color: var(--prevtech-laranja);
}

.sidebar-section-title {
  padding: 15px 20px 5px 20px;
  font-size: 0.8em;
  color: var(--sidebar-texto);
  opacity: 0.6;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: bold;
}


/* ============================================= */
/* TOPBAR (BARRA SUPERIOR)                       */
/* ============================================= */
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 25px;
  flex-shrink: 0;
  
  /* Efeito de Vidro (Glassmorphism) */
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px); /* Para Safari */
  border-bottom: 1px solid rgba(226, 232, 240, 0.8);
  
  position: sticky; /* Importante para o efeito funcionar na rolagem */
  top: 0;
  z-index: 99;
}
body.dark-mode .topbar {
  background-color: rgba(30, 41, 59, 0.7);
  border-bottom: 1px solid rgba(51, 65, 85, 0.8);
}


.topbar-right {
  display: flex;
  align-items: center;
  gap: 15px;
}
.topbar .user-info b {
  font-weight: 600;
}
.topbar button {
  background: transparent;
  border: none;
  color: var(--cor-texto-secundario);
  cursor: pointer;
  font-size: 1.3rem;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background-color 0.3s ease;
  width: 38px;
  height: 38px;
  margin-top: 0;
}
.topbar button:hover {
  background-color: var(--cor-fundo);
  color: var(--prevtech-laranja);
}
body.dark-mode .topbar button:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.datetime-container, .user-info {
  font-size: .9rem;
  padding: 5px 10px;
  border-radius: 5px;
}


/* ============================================= */
/* FORMULÁRIOS E INPUTS                          */
/* ============================================= */
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px; align-items: start;}
input,select, textarea{width:100%;box-sizing:border-box}
label{margin-bottom:0;font-size:14px;color:var(--cor-texto);display:flex;flex-direction:column;}
input[type="date"],input[type="text"],input[type="number"],input[type="password"],select,textarea{padding:10px;margin-top:5px;border:1px solid var(--cor-borda);border-radius:6px; font-family:'Inter',sans-serif; background-color: var(--cor-superficie); color: var(--cor-texto);}
input:focus, select:focus, textarea:focus { border-color: var(--prevtech-laranja); box-shadow: 0 0 0 3px rgba(255, 111, 0, 0.15); outline: none; }
textarea { resize: vertical; min-height: 100px; }


/* ============================================= */
/* TABELAS                                       */
/* ============================================= */
table{width:100%;border-collapse:collapse;margin-bottom:20px}
th,td{border:1px solid var(--cor-borda);padding:10px;text-align:center; vertical-align: middle;}
th{background-color:var(--cor-fundo); font-weight: 600;}
tbody tr:nth-child(even) { background-color: var(--cor-fundo); }

/* ============================================= */
/* BOTÕES                                        */
/* ============================================= */
button {
  padding: 10px 16px;
  border: 1px solid transparent;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  margin-top: 5px;
  transition: all 0.2s ease-in-out;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
button:hover:not(:disabled) {
  transform: translateY(-2px);
}

/* Botão Primário (Laranja) */
button.primary {
  background-color: var(--prevtech-laranja);
  color: #fff;
}
button.primary:hover:not(:disabled) {
  background-color: var(--prevtech-laranja-hover);
  box-shadow: 0 4px 15px rgba(255, 111, 0, 0.2);
}

/* Botão Secundário */
button.secondary {
  background-color: transparent;
  color: var(--cor-texto-secundario);
  border-color: var(--cor-borda);
  box-shadow: none;
}
button.secondary:hover:not(:disabled) {
  border-color: var(--prevtech-laranja);
  color: var(--prevtech-laranja);
  background-color: transparent;
  box-shadow: none;
}

button.danger { background-color: var(--cor-erro); color: #fff; }
button.danger:hover:not(:disabled) { background-color: #b91c1c; box-shadow: 0 4px 15px rgba(220, 38, 38, 0.2); }

button.success { background-color: var(--cor-sucesso); color: #fff; }
button.success:hover:not(:disabled) { background-color: #15803d; box-shadow: 0 4px 15px rgba(22, 163, 74, 0.2); }

button:disabled { background-color: #9ca3af; border-color: #9ca3af; cursor: not-allowed; opacity: 0.6; transform: none; box-shadow: none; }

/* Botão pequeno para uso em tabelas */
.btn-tabela {
  padding: 6px 10px;
  font-size: 13px;
  margin: 0;
  line-height: 1;
}

.wizard-nav{display:flex;justify-content:space-between;margin-top:20px}


/* ============================================= */
/* DASHBOARD                                     */
/* ============================================= */
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }

.dashboard-card {
  background: linear-gradient(145deg, var(--cor-superficie) 0%, #fdfdff 100%);
  border: 1px solid var(--cor-borda);
  border-radius: 12px;
  padding: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  text-decoration: none;
  color: var(--cor-texto);
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.03), 0 2px 4px -2px rgba(0,0,0,0.03);
  cursor: pointer;
}
.dashboard-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 15px -3px rgba(15, 23, 42, 0.07), 0 4px 6px -4px rgba(15, 23, 42, 0.07);
  border-color: var(--prevtech-laranja);
}

.dashboard-card i {
  font-size: 2.5rem;
  margin-bottom: 15px;
  padding: 15px;
  border-radius: 50%;
  background: linear-gradient(145deg, #f1f5f9, #ffffff);
  color: var(--prevtech-azul-escuro);
  display: flex;
  align-items: center;
  justify-content: center;
}
.dashboard-card span { font-weight: 600; font-size: 1.05em; }

body.dark-mode .dashboard-card {
  background: linear-gradient(145deg, #28364f 0%, #1e293b 100%);
  box-shadow: none;
}
body.dark-mode .dashboard-card:hover {
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
}
body.dark-mode .dashboard-card i {
    background: var(--cor-fundo);
    color: var(--prevtech-laranja);
}


#admin-dashboard-controls { background-color: var(--cor-fundo); padding: 10px 15px; border-radius: 8px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; border: 1px solid var(--cor-borda);}
#admin-dashboard-controls label { margin: 0; flex-direction: row; align-items: center; gap: 10px; font-weight: 600;}
#admin-dashboard-controls select { margin-top: 0; padding: 8px; border-radius: 6px; }


/* ============================================= */
/* LISTAS E COMPONENTES DIVERSOS                 */
/* ============================================= */
#listaHistorico, #listaCTCsSalvas {list-style-type: none; padding: 0; margin-top: 15px;}
#listaHistorico li, #listaCTCsSalvas li {background: var(--cor-superficie); margin: 8px 0; padding: 12px 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--prevtech-azul-escuro); box-shadow: 0 1px 3px rgba(0,0,0,0.05); transition: box-shadow 0.3s ease;}
#listaHistorico li:hover, #listaCTCsSalvas li:hover {box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-left-color: var(--prevtech-laranja);}

.item-info {display: flex; flex-direction: column; flex-grow: 1; overflow: hidden; }
.item-info span {font-weight: bold; font-size: 1.05em; color: var(--cor-texto); white-space: nowrap; text-overflow: ellipsis; overflow: hidden;}
.item-info small {font-size: 0.85em; color: var(--cor-texto-secundario);}
.item-actions {display: flex; gap: 8px; flex-shrink: 0;}
.item-actions button {margin: 0; padding: 8px; font-size: 1.1rem; min-width: auto; height: auto; display: flex; align-items: center; justify-content: center; border-radius: 6px; line-height: 1;}

.spinner{width:18px;height:18px;border:2px solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:#fff;animation:spin 1s ease-in-out infinite;position:absolute;left:50%;top:50%;margin-left:-9px;margin-top:-9px;display:none;}
.button-loading .spinner{display:block;}
.button-loading .button-text{visibility:hidden;}
@keyframes spin{to {transform:rotate(360deg);}}

#floating-buttons-container{position:fixed;bottom:20px;right:20px;z-index:1000;display:flex;flex-direction:column;gap:10px;}
.floating-btn{width:50px;height:50px;border-radius:50%;padding:0;font-size:22px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px rgba(0,0,0,0.2);cursor:pointer;}
#btnWhatsapp { background-color: var(--whatsapp-cor); color: #fff;}

/* --- ESTILOS DO TOOLTIP --- */
.tooltip-container { display: flex; align-items: center; gap: 8px; }
.tooltip { position: relative; display: inline-block; cursor: help; background-color: var(--prevtech-azul-escuro); color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 14px; text-align: center; line-height: 18px; font-weight: bold; }
.tooltip .tooltiptext { visibility: hidden; width: 280px; background-color: #333; color: #fff; text-align: center; border-radius: 6px; padding: 8px; position: absolute; z-index: 1; bottom: 140%; left: 50%; margin-left: -140px; opacity: 0; transition: opacity 0.3s; font-size: 12px; font-weight: normal; line-height: 1.4; }
.tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }

/* --- ESTILOS DO ACCORDION (SANFONA) --- */
.accordion-toggle { cursor: pointer; position: relative; transition: background-color 0.3s ease; padding-right: 30px; }
.accordion-toggle:hover { background-color: var(--cor-fundo); }
.accordion-toggle::after { content: '❯'; position: absolute; right: 15px; top: 50%; transform: translateY(-50%) rotate(90deg); transition: transform 0.3s ease; font-size: 1.2rem; }
.accordion-toggle.active::after { transform: translateY(-50%) rotate(-90deg); }
.accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out, padding 0.4s ease-out; padding: 0 10px; }

.g_id_signin {
  margin: 10px auto;
  display: block;
  max-width: 300px;
  border-radius: 12px;
}

/* ============================================= */
/* LAYOUT DAS AÇÕES FINAIS (PASSO 3)             */
/* ============================================= */
.acoes-finais-container {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--cor-borda);
}

.grupo-salvar {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}
.grupo-salvar input {
  flex-grow: 1;
  margin-top: 0;
}
.grupo-salvar button {
  flex-shrink: 0;
  margin-top: 0;
}

.grupo-acoes {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
.grupo-acoes button {
  margin-top: 0;
}


/* ============================================= */
/* PRINT STYLES                                  */
/* ============================================= */
@media print {
    body, html { height: auto; overflow: visible; background: #fff; }
    .app-container { display: block !important; }
    .sidebar, .topbar, footer, #floating-buttons-container, #admin-dashboard-controls { display: none !important; }
    .main-content, .page-content { height: auto; overflow: visible; padding: 0; }
    .content-wrapper { box-shadow: none; border: 1px solid #ccc; padding: 15px; }
    body * { visibility: hidden; }
    #printableArea, #printableArea * { visibility: visible; }
    #printableArea { position: absolute; left: 0; top: 0; width: 100%; display: block !important; }
}
.branding-logo {
  width: 150px; /* Ajuste o tamanho conforme necessário */
  margin-bottom: 15px; /* Espaçamento entre a logo e o texto */
  display: block; /* Para centralizar com margin auto se precisar */
  margin-left: auto;
  margin-right: auto;
}

/* ============================================= */
/* ESTILOS ADICIONAIS PARA CORREÇÃO DE LAYOUT    */
/* ============================================= */
.form-grid-span-all {
  grid-column: 1 / -1;
}

.tempo-externo-container {
  background-color: var(--cor-fundo);
  border: 1px solid var(--cor-borda);
  border-radius: 8px;
  padding: 15px;
  margin-top: 10px;
}

.tempo-externo-inputs {
  display: flex;
  align-items: flex-end;
  gap: 15px;
  margin-bottom: 15px;
  flex-wrap: wrap; /* Permite que os itens quebrem a linha em telas menores */
}

.tempo-externo-inputs label {
  flex-grow: 1; /* Faz os inputs de data ocuparem o espaço disponível */
}

.tempo-externo-inputs button {
  flex-shrink: 0; /* Impede que o botão encolha */
  margin-top: 0;
  margin-bottom: 0; /* Alinha com os inputs */
}

#tabela-tempo-externo {
  margin-top: 10px;
}

#total-tempo-externo {
  text-align: right;
  font-weight: bold;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--cor-borda);
  color: var(--cor-texto);
}
